"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[825],{1470:(e,n,t)=>{t.d(n,{A:()=>j});var a=t(6540),o=t(4164),r=t(3104),s=t(6347),i=t(205),l=t(7485),c=t(1682),u=t(679);function d(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,a.useMemo)((()=>{const e=n??function(e){return d(e).map((({props:{value:e,label:n,attributes:t,default:a}})=>({value:e,label:n,attributes:t,default:a})))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h({value:e,tabValues:n}){return n.some((n=>n.value===e))}function m({queryString:e=!1,groupId:n}){const t=(0,s.W6)(),o=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(o),(0,a.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(t.location.search);n.set(o,e),t.replace({...t.location,search:n.toString()})}),[o,t])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,r=p(e),[s,l]=(0,a.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:r}))),[c,d]=m({queryString:t,groupId:o}),[f,g]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,o]=(0,u.Dv)(n);return[t,(0,a.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:o}),b=(()=>{const e=c??f;return h({value:e,tabValues:r})?e:null})();(0,i.A)((()=>{b&&l(b)}),[b]);return{selectedValue:s,selectValue:(0,a.useCallback)((e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),g(e)}),[d,g,r]),tabValues:r}}var g=t(2303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=t(4848);function x({className:e,block:n,selectedValue:t,selectValue:a,tabValues:s}){const i=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),c=e=>{const n=e.currentTarget,o=i.indexOf(n),r=s[o].value;r!==t&&(l(n),a(r))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=i.indexOf(e.currentTarget)+1;n=i[t]??i[0];break}case"ArrowLeft":{const t=i.indexOf(e.currentTarget)-1;n=i[t]??i[i.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":n},e),children:s.map((({value:e,label:n,attributes:a})=>(0,v.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{i.push(e)},onKeyDown:u,onClick:c,...a,className:(0,o.A)("tabs__item",b.tabItem,a?.className,{"tabs__item--active":t===e}),children:n??e},e)))})}function y({lazy:e,children:n,selectedValue:t}){const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=r.find((e=>e.props.value===t));return e?(0,a.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function _(e){const n=f(e);return(0,v.jsxs)("div",{className:(0,o.A)("tabs-container",b.tabList),children:[(0,v.jsx)(x,{...n,...e}),(0,v.jsx)(y,{...n,...e})]})}function j(e){const n=(0,g.A)();return(0,v.jsx)(_,{...e,children:d(e.children)},String(n))}},6475:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"developer/advanced_scripts/callback_usecase","title":"Callback Processes","description":"You can easily add custom code overrides, either using menu buttons or by specifying script paths on the command line.","source":"@site/docs/developer/advanced_scripts/callback_usecase.md","sourceDirName":"developer/advanced_scripts","slug":"/developer/advanced_scripts/callback_usecase","permalink":"/tangerine-docs/developer/advanced_scripts/callback_usecase","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Build Shots in Pipeline","permalink":"/tangerine-docs/developer/advanced_scripts/build_shot_in_pipeline"},"next":{"title":"Exports from Tangerine to Maya Pipeline","permalink":"/tangerine-docs/developer/advanced_scripts/pipeline_alembics_from_tangerine"}}');var o=t(4848),r=t(8453);t(1470),t(9365);const s={sidebar_position:3},i="Callback Processes",l={},c=[{value:"Add Custom Code Around Manual Actions",id:"add-custom-code-around-manual-actions",level:2},{value:"Add Custom Code Around Loading Actions",id:"add-custom-code-around-loading-actions",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"callback-processes",children:"Callback Processes"})}),"\n",(0,o.jsx)(n.p,{children:"You can easily add custom code overrides, either using menu buttons or by specifying script paths on the command line.\nFor example, you could change a version of your reference before your animator open the scene, or upload data from your asset manager into tangerine.\nYou culd also need to automate some clean or checks before to save any version of the shot, or before to export it."}),"\n",(0,o.jsx)(n.h2,{id:"add-custom-code-around-manual-actions",children:"Add Custom Code Around Manual Actions"}),"\n",(0,o.jsx)(n.p,{children:"When you want to execute code after an action manually triggered from the UI:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Replace the native menu button with your own ",(0,o.jsx)(n.a,{href:"./../environment#custom-menu-and-gui",children:"(see here)."})]}),"\n",(0,o.jsx)(n.li,{children:"Insert your custom code around the base action called by the button."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Below is the code executed behind the default items."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from PySide2.QtWidgets import QApplication\ntang_window = QApplication.instance().main_window\n"})}),"\n",(0,o.jsxs)(n.p,{children:['"File > Load Shot" : ',(0,o.jsx)(n.code,{children:"tang_window.load_shot_files()"})]}),"\n",(0,o.jsxs)(n.p,{children:['"File > Save Shot" : ',(0,o.jsx)(n.code,{children:"tang_window.export_shot_file()"})]}),"\n",(0,o.jsxs)(n.p,{children:['"File > New" : ',(0,o.jsx)(n.code,{children:"tang_window.new_document()"})]}),"\n",(0,o.jsx)(n.h2,{id:"add-custom-code-around-loading-actions",children:"Add Custom Code Around Loading Actions"}),"\n",(0,o.jsx)(n.p,{children:"If you want to inject code during Tangerine's loading actions, you can use the command line and provide a script path to execute.\nThis script should contain the algorithm that defines the order of actions to perform."}),"\n",(0,o.jsx)(n.p,{children:"You can also pass arguments to the script by adding them after the script path.\nTangerine will skip any arguments it does not recognize."}),"\n",(0,o.jsx)(n.p,{children:"See the command line documentation for details, and refer to the demo package for an example."}),"\n",(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:"Demo package command"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:'"C:\\Program Files\\TeamTO\\Tangerine\\1.7.14\\TangerineConsole.exe" --log_to_file --kernel release --no-gui -l debug "E:/TEMP/tangerine/Tangerine Demo 2025/hook.py" E:\\work\\sandbox\\tang-docs\\docs\\runTangContainerBatch.py --firstarg --secondarg 42 --filePath "E:\\TEMP\\tangerine\\Tangerine Demo 2025\\api_samples\\three_capy.shot"\n'})}),(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:" Sample code for script with args"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'# -*- coding: utf-8 -*-\nimport os\nimport sys\n\ntry:\n    from PySide2.QtWidgets import QApplication\nexcept ImportError:\n    print("Tang modules not loaded")\n\n\nargs = {}\nfor element in " ".join(sys.argv).split(" --"):\n    if not element.count(" ") >= 1:\n        args[element.split(" ")[0]] = True\n    else:\n        args[element.split(" ")[0]] = " ".join(element.split(" ")[1:])\n\n\nfirst_arg = args.get("[firstarg]", None)\nsecond_arg = args.get("[secondarg]", None)\nfile_path = args.get("filePath", None)\n\n\n# Develop here depending on your needs and args. Sample opening a document and printing a list of top nodes.\n\n# opening filepath\nfrom tang_core.document.shot import Shot\nfrom tang_core.document.get_document import get_document\n\ndocument = get_document()\nShot.import_shot_files([file_path], document)\n\n# listing top nodes and printing nodes full name\nnodes = document.root().get_children()\nfor node in nodes:\n    print(node.get_full_name())\n\n# to match a pipeline idea, could be opening > playblasting > exporting > saving in another location\n'})})]})]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var a=t(6540);const o={},r=a.createContext(o);function s(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(r.Provider,{value:n},e.children)}},9365:(e,n,t)=>{t.d(n,{A:()=>s});t(6540);var a=t(4164);const o={tabItem:"tabItem_Ymn6"};var r=t(4848);function s({children:e,hidden:n,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,a.A)(o.tabItem,t),hidden:n,children:e})}}}]);